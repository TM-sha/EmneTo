<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatBot</title>
</head>

<body>
    <div id="app"></div>

    <script>
        // model
        let answerDiv = '';
        let question = '';
        let questionsAndAnswers = {
            "Hva er din favorittfarge?": "Min favorittfarge er bl친.",
            "Hva heter du?": "Jeg er en datamaskin, s친 jeg har ikke et navn.游뗷",
            "Hva liker du 친 gj칮re p친 fritiden?": "Jeg liker 친 hjelpe uvitende, som deg.游땖",
            "Hvor gammel er du?": "Jeg har ingen alder, jeg er en datamaskin.游뗶",
            "Hvordan har du det?": "Jeg er en datamaskin, men jeg har det veldig fint, takk.游뗶",
        };

        // view
        updateView();
        function updateView() {
            document.getElementById('app').innerHTML = /*HTML*/`
            <h2>Sp칮r chatboten:</h2>
            <input type = "text" onkeyup="btnDisable()" onchange = "question = this.value" placeholder = "Skriv inn ditt sp칮rsm친l her..">
            <button id = "btn" onclick = "askQuestion()" disabled>Still sp칮rsm친l</button>
            <h2>Chatbot:</h2>
            <div>${answerDiv}</div>
            `;
        }

        function showAnswer(answer) {
            answerDiv = "Chatboten skriver...";
            updateView();

        const myTimeout = setTimeout(() => {
                answerDiv = `Svar: ${answer}`;
                updateView();

                // Setter opp en timeout for 친 vise/t칮mme svaret etter en stund
                setTimeout(() => {
                    clear();
                }, 3500); // T칮m etter 3.5 sec
            }, 2000); //Vis etter 2 sec
        } 

        const myTimer = setTimeout(clear, 500);
        function clear() {
            answerDiv = '';
            updateView();
        }

        // controller

        function btnDisable() {
            if (question.value === '') {
                document.getElementById("btn").disabled = true;
            }else
            {
                document.getElementById("btn").disabled = false;
            }
        }


        function askQuestion() {
            let answer = getAnswer(question);
            showAnswer(answer);
        }


        function getAnswer(question) {
            if (question in questionsAndAnswers) {
                return questionsAndAnswers[question];
            } else {
                return "Beklager, jeg vet ikke svaret p친 dette sp칮rsm친let.";
            }
        }
        

    </script>
</body>

</html>